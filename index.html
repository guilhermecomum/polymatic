<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>title</title>
    <script src="beet.min.js"></script>
  </head>
  <body>
    <input id="sequence" type="text" value="1000101010" />
    <input id="note" type="text" value="880" />
    <button onClick="Reload()">Tocar</button>
    <button onClick="beet.stop()">Stop</button>
    <button onClick="beet.start()">Start</button>
  </body>

  <script type="text/javascript">
   function Layers() {
     console.log(beet.layer())
   }
   function Reload() {
     value = document.querySelector("#sequence").value
     var pattern = beet.pattern(value);
     var layer = beet.layer(pattern, callbackOn);
     beet.add(layer).start();
   }

   function callbackOn (time, step, timeFromScheduled) {
     var osc = context.createOscillator();
     osc.connect(context.destination);
     freq = document.querySelector("#note").value
     if(step === 1){
       osc.frequency.value = freq;
     }
     osc.start(time);
     osc.stop(time + 0.2);
     setTimeout(function(){
       // trigger some js event such as animation - will be synced to the audio
     }, timeFromScheduled * 1000);
   }
   window.AudioContext = window.AudioContext || window.webkitAudioContext;
   var context = new AudioContext();
   var beet = new Beet({
     context: context
   });
  </script>
</html>
